# 네트워크 기초 지식

## 네트워크란?

### 네트워크를 공부하자

무언가와 무언가가 그물망처럼 무언가에 의해 연결되어 있는 상태

점과 점이 선으로 그물망처럼 연결되어 있다

복수의 점과 복수의 선으로 연결되어 있는 상태

- 점 : 역, 물류 거점지, 장기, 전화, `노드`
- 선 : 선로, 도로, 신경, 전화선, `링크`

### 주고받기

여기에 `움직임`이 필요

무언가를 운반하기 위한 것

네트워크 : `연결`과 `주고받기`

'무언가와 무언가를 무언가에 의해 연결해서 무언가를 운반하기 위한 것'

## 네트워크의 장점

### 컴퓨터 네트워크란?

'무언가와 무언가를' : 컴퓨터와 컴퓨터

'무언가로 연결' : 통신 매체

'무언가를 운반' : 데이터(Data)

'컴퓨터와 컴퓨터가 그물망처럼 통신 매체로 연결되어서 데이터를 운반하는 것'

### 네트워크를 사용하는 이유

물리적인 거리가 멀리 있는 것이 아니라 자기의 컴퓨터가 아닌 다른 컴퓨터라는 것이 포인트

`리소스`: 메일이나 파일, 인쇄하고 싶은 데이터 등 컴퓨터랑 사용자가 가진것

복수의 컴퓨터에서 리소스를 공유한다

리소스를 공유함으로써 한 대로는 불가능한 일이 가능해진다.

- 네트워크가 없는 상태에서는 PC마다 프린터를 연결해야 한다
- 네트워크가 있으면 공유하고 있는 프린터에서 인쇄할 수 있어서 프린터는 한 대면 된다
- 네트워크가 있으면 떨어져 있는 사람과 정보 교환이 가능하다
- 홈페이지도 홈페이지를 만든 사람의 지식이라는 리소스의 공개라고 할 수 있다

네트워크의 장점

- 리소스를 유용하게 활용하기 위해 공유하는 것

리소스를 공유하는 법

- 데이터 통신으로 컴퓨터가 가진 리소스를 서로 주고받음으로써 공유

## 데이터 통신 기초

### 데이터란?

무언가에 대한 정보를 컴퓨터상에서 표현한 것

`정보`: 리소스를 공유하기 위해 사용하는 정보

예) 파일이든 인쇄하는 내용이든 홈페이지 정보든 간에 이들 정보를 주고받음으로써 '리소스 공유'가 실현

`데이터`: 컴퓨터상의 리소스를 공유하기 위한 정보]

비트로 구성되어 있음

`비트`

- '0'이나 '1'인 상태를 유지할 수 있음
- 컴퓨터에서는 비트로 모든 정보가 저장되고 데이터를 주고받을 때도 비트를 사용

`데이터 통신`: 비트로 만들어진 데이터를 다른 컴퓨터에 보내거나 받는 것

### 데이터 통신

데이터 통신에 필요한것

- 데이터를 가진 컴퓨터 : 보내고 싶은 것을 가지고 있음
- 데이터를 받아들이는 컴퓨터
- 통신 매체 : 이 둘을 연결함
  - 컴퓨터와 컴퓨터를 연결해서 데이터가 지나는 파이프

인터페이스 : 컴퓨터와 파이프의 중개역

- 컴퓨터에 파이프를 연결할 때 컴퓨터에 파이프 접속구가 필요
- 컴퓨터가 가진 데이터를 파이프에 보내기 위한 기계

- 파이프에 온 데이터를 컴퓨터에 건네주는 기계

- 그 전에 데이터를 주고받기 위한 규칙을 정해야 함

`프로토콜(Protocol)`

데이터를 보내는 쪽과 받는 쪽이 사용하는 규칙을 정한 뒤에 데이터를 주고받아야 함

- 보내는 쪽하고 받는 쪽이 같은 프로토콜을 사용해야 한다

## 회선 교환과 패킷 교환

## 회선 교환

전화망에서의 교환기

- 각각의 전화는 교환기에만 연결된다
- 교환기끼리 복수의 전화선으로 연결되어 있음
- 상대방에 접속하고 싶은 경우 교환기가 그 상대와 연결된 교환기에 접속

`회선 교환`: 이런식으로 교환기를 사용해서 파이프를 교체해가는 방식

### 패킷 교환

회선 교환은 접속하는 동안 전화기와 교환기, 교환기와 교환기 사이의 회선은 그 통신이 점유하게 되니까 교환기 사이의 회선수가 많아야만 많은 수의 전화가 동시에 통화할 수 있음

동시 통화에 필요한 수 만큼 회선이 필요하다

`패킷 교환`: 송신하고 싶은 데이터를 일관적으로 한번에 보내지 않고 여럿으로 분할해서 송신하는 것

소포라는 의미의 패킷이라고 부름, 소포처럼 묶음으로 보낸다

#### 편리한 점

회선이 1개면 된다

- 큰 데이터를 작게 나누어서 송신하니까 패킷 1개를 보내는 시간이 짧아짐

- 패킷이 회선을 점유하는 시간이 짧아짐

- 복수의 컴퓨터가 회선을 공유할 수 있게 됨

- 데이터의 총량은 바뀌지 않지만 계속해서 점유하는 것이 아니니까 패킷과 패킷 사이에 다른 패킷을 넣을 수 있음

- 서로 다른 복수의 패킷이 한 개의 회선을 사용할 수 있음

패킷에 수신처를 붙여서 각각의 패킷을 보내면 패킷에 수신처가 있으니까 이걸로 수신처를 알 수 있음

회선 교환 : 회선이 연결되어있는 곳

패킷 교환 : 각각의 패킷에 붙어있는 수신처

- 한 개의 회선에 복수의 컴퓨터가 연결되어 있기 때문

데이터를 패킷으로 분할해서 송신하기 때문에 회선이 점유되지 않아서 다수의 기기가 동시에 사용할 수 있다

- 컴퓨터-패킷 교환기 : 데이터는 패킷으로 분할되어 수신처를 붙여서 송신된다
- 패킷 교환기 : 수신처가 있는 패킷 교환이기에 데이터를 보내는 역할을 한다
- 패킷교환기 - 패킷 교환기 : 어느 한 수신처의 데이터가 회선을 점유하지 않고 섞여서 송신된다
- 패킷 교환기 - 컴퓨터 : 각각의 수신처가 붙어있어서 패킷이 섞여도 각 수신처에 도달한다

#### 패킷 교환기

교환기

- 회선을 교체해서 연결하는 역할

패킷 교환기

- 수신처가 연결되어 있는 회선을 골라서 거기로 패킷을 송출하는 역할
- 사용하려고 한 회선이 사용중일 경우 일시적으로 저장했다가 회선이 비는 것을 기다리는 역살

컴퓨터 네트워크는 패킷 교환 방식을 사용

- 컴퓨터에 의한 데이터 통신에서는 이 패킷 교환 방식이 더 편리

- 복수의 컴퓨터가 동시에 사용할 수 있음\

#### 단점

반드시 패킷 교환 방식이 회선 교환 방식보다 뛰어난 방식은 아님

회선 교환

- 연결되어 있는 동안에는 확실하게 수신처에 도달하고 회선을 점유할 수 있음

패킷 교환

- 패킷마다 따로따로 송신하기 때문에 반드시 송신한 순서대로 수신처에 도달한다고 할 수 없음
- 도착하는 시간이 불규칙

복수의 컴퓨터가 사용할 수 있다는 장점이 크기 때문에 컴퓨커 네트워크에서는 패킷 교환 방식이 사용됨

## 네트워크의 구조

### 통신에 필요한 기기

패킷 교환 네트워크에서 필요한 기기

- 컴퓨터 : 데이터를 작성해서 송신하고 또 데이터를 수신해서 사용

- 통신 매체와 인터페이스 : 네트워크로 연결
- 패킷 교환기 : 실제 네트워크에서는 라우터(Router)라는 기기가 패킷 교환기 역할을 함

라우터도 인터페이스를 갖는다

복수의 라우터가 각각 연결되어 패킷 교환 네트워크가 만들어진다.

### 멀티엑세스 네트워크와 포인트 투 포인트 네트워크

#### T자 분배기

회선을 분배기에서 나눈다

- 컴퓨터와 컴퓨터 그리고 서버(Server)는 한 개의 케이블이 분배되어서 연결되어 있음
- 라우터에 의한 패킷 교환이 아니라 회선을 나누어서 연결한다
  - 이 범위를 세그먼트라고 한다
  - T자로 회선을 분배시킨다
  - 회선으로 송신한 데이터는 분배기에서 나뉘어 컴퓨터에 도달한다

세그먼트 : 케이블 분배기로 연결되는 범위

- 이 세그먼트 범위 내에 있는 컴퓨터는 패킷 교환없이 직접 데이터를 송수신할 수 있다

#### 허브

T자 분배기를 만드려면 케이블을 잘라서 T자 분배기를 끼우는 작업 필요

`멀티엑세스 네트워크`

이 허브를 사용한 네트워크에서는 컴퓨터 한 대가 세그먼트 내의 어떤 컴퓨터에도 자유롭게 데이터를 송신할 수 있음

허브로 분배기를 만든다

- 허브를 사용함으로써 회선(케이블)에 T자 분배기를 끼우지 않아도 분배가 가능하다
- 컴퓨터는 허브에만 회선을 접속한다
- 허브 쪽에 케이블 삽입구(포트라고 부른다)가 있다.
- 허브 안에 T자로 분배한 회선이 있다고 생각한다.

`액세스`

컴퓨터가 다른 컴퓨터에 데이터를 송신할 수 있다

멀티액세스 네트워크 : 복수의 컴퓨터에 의한 데이터 송수신이 가능하다

포인트 투 포인트 네트워크 : 컴퓨터 한 대가 다른 한 대의 컴퓨터에만 데이터를 보내는 방식

- 전용선이라고 불리는 회선을 사용
- 고정된 컴퓨터에만 데이터를 보냄

패킷 교환 네트워크 : 이 두 종류를 조합

- 컴퓨터-라우터 : 멀티액세스 네트워크
- 라우터-라우터 : 포인트 투 포인트 네트워크

## 회선 교환과 패킷 교환

### 회선 교환

전화망에서의 교환기

- 각각의 전화는 교환기에만 연결된다
- 교환기끼리 복수의 전화선으로 연결되어 있음
- 상대방에 접속하고 싶은 경우 교환기가 그 상대와 연결된 교환기에 접속

`회선 교환`: 이런식으로 교환기를 사용해서 파이프를 교체해가는 방식

### 패킷 교환

회선 교환은 접속하는 동안 전화기와 교환기, 교환기와 교환기 사이의 회선은 그 통신이 점유하게 되니까 교환기 사이의 회선수가 많아야만 많은 수의 전화가 동시에 통화할 수 있음

동시 통화에 필요한 수 만큼 회선이 필요하다

`패킷 교환`: 송신하고 싶은 데이터를 일관적으로 한번에 보내지 않고 여럿으로 분할해서 송신하는 것

소포라는 의미의 패킷이라고 부름, 소포처럼 묶음으로 보낸다

#### 편리한 점

회선이 1개면 된다

- 큰 데이터를 작게 나누어서 송신하니까 패킷 1개를 보내는 시간이 짧아짐

- 패킷이 회선을 점유하는 시간이 짧아짐

- 복수의 컴퓨터가 회선을 공유할 수 있게 됨

- 데이터의 총량은 바뀌지 않지만 계속해서 점유하는 것이 아니니까 패킷과 패킷 사이에 다른 패킷을 넣을 수 있음

- 서로 다른 복수의 패킷이 한 개의 회선을 사용할 수 있음

패킷에 수신처를 붙여서 각각의 패킷을 보내면 패킷에 수신처가 있으니까 이걸로 수신처를 알 수 있음

회선 교환 : 회선이 연결되어있는 곳

패킷 교환 : 각각의 패킷에 붙어있는 수신처

- 한 개의 회선에 복수의 컴퓨터가 연결되어 있기 때문

데이터를 패킷으로 분할해서 송신하기 때문에 회선이 점유되지 않아서 다수의 기기가 동시에 사용할 수 있다

- 컴퓨터-패킷 교환기 : 데이터는 패킷으로 분할되어 수신처를 붙여서 송신된다
- 패킷 교환기 : 수신처가 있는 패킷 교환이기에 데이터를 보내는 역할을 한다
- 패킷교환기 - 패킷 교환기 : 어느 한 수신처의 데이터가 회선을 점유하지 않고 섞여서 송신된다
- 패킷 교환기 - 컴퓨터 : 각각의 수신처가 붙어있어서 패킷이 섞여도 각 수신처에 도달한다

#### 패킷 교환기

교환기

- 회선을 교체해서 연결하는 역할

패킷 교환기

- 수신처가 연결되어 있는 회선을 골라서 거기로 패킷을 송출하는 역할
- 사용하려고 한 회선이 사용중일 경우 일시적으로 저장했다가 회선이 비는 것을 기다리는 역살

컴퓨터 네트워크는 패킷 교환 방식을 사용

- 컴퓨터에 의한 데이터 통신에서는 이 패킷 교환 방식이 더 편리

- 복수의 컴퓨터가 동시에 사용할 수 있음\

#### 단점

반드시 패킷 교환 방식이 회선 교환 방식보다 뛰어난 방식은 아님

회선 교환

- 연결되어 있는 동안에는 확실하게 수신처에 도달하고 회선을 점유할 수 있음

패킷 교환

- 패킷마다 따로따로 송신하기 때문에 반드시 송신한 순서대로 수신처에 도달한다고 할 수 없음
- 도착하는 시간이 불규칙

복수의 컴퓨터가 사용할 수 있다는 장점이 크기 때문에 컴퓨커 네트워크에서는 패킷 교환 방식이 사용됨

## 네트워크의 구조

### 통신에 필요한 기기

패킷 교환 네트워크에서 필요한 기기

- 컴퓨터 : 데이터를 작성해서 송신하고 또 데이터를 수신해서 사용

- 통신 매체와 인터페이스 : 네트워크로 연결
- 패킷 교환기 : 실제 네트워크에서는 라우터(Router)라는 기기가 패킷 교환기 역할을 함

라우터도 인터페이스를 갖는다

복수의 라우터가 각각 연결되어 패킷 교환 네트워크가 만들어진다.

### 멀티엑세스 네트워크와 포인트 투 포인트 네트워크

#### T자 분배기

회선을 분배기에서 나눈다

- 컴퓨터와 컴퓨터 그리고 서버(Server)는 한 개의 케이블이 분배되어서 연결되어 있음
- 라우터에 의한 패킷 교환이 아니라 회선을 나누어서 연결한다
  - 이 범위를 세그먼트라고 한다
  - T자로 회선을 분배시킨다
  - 회선으로 송신한 데이터는 분배기에서 나뉘어 컴퓨터에 도달한다

세그먼트 : 케이블 분배기로 연결되는 범위

- 이 세그먼트 범위 내에 있는 컴퓨터는 패킷 교환없이 직접 데이터를 송수신할 수 있다

#### 허브

T자 분배기를 만드려면 케이블을 잘라서 T자 분배기를 끼우는 작업 필요

`멀티엑세스 네트워크`

이 허브를 사용한 네트워크에서는 컴퓨터 한 대가 세그먼트 내의 어떤 컴퓨터에도 자유롭게 데이터를 송신할 수 있음

허브로 분배기를 만든다

- 허브를 사용함으로써 회선(케이블)에 T자 분배기를 끼우지 않아도 분배가 가능하다
- 컴퓨터는 허브에만 회선을 접속한다
- 허브 쪽에 케이블 삽입구(포트라고 부른다)가 있다.
- 허브 안에 T자로 분배한 회선이 있다고 생각한다.

`액세스`

컴퓨터가 다른 컴퓨터에 데이터를 송신할 수 있다

멀티액세스 네트워크 : 복수의 컴퓨터에 의한 데이터 송수신이 가능하다

포인트 투 포인트 네트워크 : 컴퓨터 한 대가 다른 한 대의 컴퓨터에만 데이터를 보내는 방식

- 전용선이라고 불리는 회선을 사용
- 고정된 컴퓨터에만 데이터를 보냄

패킷 교환 네트워크 : 이 두 종류를 조합

- 컴퓨터-라우터 : 멀티액세스 네트워크
- 라우터-라우터 : 포인트 투 포인트 네트워크

## LAN과 WAN

###  네트워크의 범위

네트워크의 범위나 규모로 네트워크를 분류

### LAN

LAN(Local Area Network)

구내의 설치된 네트워크

- 좁은 범위의 네트워크
- 가정, 사무실, 빌딩 같은 사유지를 범위로 해서 사용하는 네트워크
- 연구실, 대학, 옆 연구실, 컴퓨터실, 도서관
- 작은 LAN들을 묶어서 큰 LAN이 됨

기본적으로 사용하는 쪽에서 책임지고 케이블 설치랑 라우터 배치 등을 해서 네트워크를 만드는 것

- 자기들 책임으로 자기들이 사용할 네트워크를 만드는 거니까 어느 정도는 자유롭게 만들 수 있음

지역적으로 좁은 범위에서 본인이 책임지고 구축하는 네트워크

### WAN

리소스의 공유

- 네트워크의 목적
- 공유되는 리소스가 많을수록 효율이 올라가는 것

범위 넓어질 때 문제점

- 남의 소유지를 케이블이 통과해야 함
- 자기 책임으로 케이블을 연결할 수 없음

나라의 허가를 받은 회사라면 공공장소에 케이블을 설치할 수 있음

통신사업자 : 이런 회사들 중 통신용 케이블을 설치하는 회사

- KT, LG, SKT 등이 있음

이런 회사들이 가진 케이블을 이용하면 되는 것

WAN(wide Area Netwark)

- '데이터 통신 서비스'를 제공하는 통신사업자에게 그들이 보유하고 잇는 케이블에 데이터를 전송할 권리를 구입해서 네트워크를 구축하는 것

떨어져 있는 지역의 LAN끼리 통신사업자의 통신케이블을 빌려서 연결한 네트워크

- 취급할 수 없는 범위, 도시나 지역, 국가간을 가로지르는 네트워크를 만들 수도 있음

LAN이랑 LAN을 연결해서 만들어진 네트워크

LAN : 자기가 만듬

WAN: 통신사업자에게 빌려서 만듬

WAN에도 크기가 다름

인터넷 : 세계적 규모로 사용되는 WAN

인터넷 제공 업체 : 인터넷 접속 서비스를 가진 통신사업자

통신사업자의 서비스를 통해 떨어져 있는 지역의 LAN을 연결한 네트워크

- 이 범위의 회선의 연결방법은 통신사업자에게 빌린 회선 서비스에 따라 다름
- 대학과 통신사업자를 묶는 회선, 대학은 통신사업자에게 회선 사용로 지불

통신사업자로부터 빌린 회선(네트워크)의 구성은 계약에 따라 다름

1. 멀티액세스 네트워크가 가능한 회선
2. 포인트 투 포인트 뿐인 회선

LAN과 WAN의 차이

| _           | LAN        | WAN                  |
| ----------- | ---------- | -------------------- |
| 범위        | 좁다(구내) | 넓다(지역 국가 규모) |
| 케이블 설치 | 자비       | 통신사업자           |
| 사용요금    | 무료       | 유료                 |
| 통신속도    | 고속       | 저속                 |
| 에러 발생률 | 낮다       | 높다                 |

단 WAN의 통신속도나 에러 발생률은 통신사업자와의 계약에 따라 다르다

## OSI 참조 모델

### OSI 참조 모델이란?

최초 단계인 1960~1970년대에는 각 업체가 자신들의 컴퓨터끼리 네트워크를 사용해서 데이터 통신을 할 수 있도록 컴퓨터와 통신에서 사용하는 기기, 그리고 프로토콜을 자신들의 규격으로 만듦

다른 회사와는 규격이 달라서 호환되지 않는 경우가 많음

ISO: 데이터 통신의 규격과 프로토콜을 통일하려고 했던 단체

표준화(Standardization): 이런 규격 통일

OSI 참조 모델

- ISO의 표준화 단계에서 선언한 것
- 데이터 통신의 단계 구성도
- 데이터 통신 전체를 표준화하기 위해 먼저 데이터 통신 전체의 설계도를 만듦

데이터 통신을 단계로 나누어 각 단계의 순서를 명확히 함

- 이 모델에 따라 프로토콜을 정의

실패로 끝났지만 데이터 통신을 설명하는 데 아직도 유용

### OSI 참조 모델

계층(Layer:레이어)

- 데이터 통신을 7개의 단계로 나눔

편지 주고받기에서의 단계

단계

- 내용 : 먼저 하고 싶은 말 생각
- 표현 : 비지니스 문서 형식으로 쓰자
- 전송물 : 봉투에 넣고 수신인을 쓰자
- 전송 : 수신인을 보고 수신처까지 운반하자

순서

- 내용의 규칙과 역할 
  - 상대가 이쪽의 의도를 이해할 수 있는 내용
- 표현의 규칙과 역할 
  - 내용을 실제로 표현
  - 상대가 알 수 있는 언어로 알기 쉽게 기술
- 전송물의 규칙과 역할
  - 표현에 따라 작성된 내용을 운반할 수 있는 형태로 만듦
  - 상대에게 도달하도록 수신인을 적음
- 전송의 규칙과 역할 :
  - 우편배달원
  - 표현되어 작성된 내용이 운반 가능한 형태가 되었으니 상대에게 배달
  - 수신인을 확인한다. 배달할 방법을 생각한다

#### OSI 참조 모델의 계층

7개의 계층으로 나눈다

|         |                |                                            |          |
| ------- | -------------- | ------------------------------------------ | -------- |
| 제7계층 | 응용계층       | 사용자에게 네트워크 서비스를 제공한다      | 내용표현 |
| 제6계층 | 표현계층       | 데이터의 형식을 결정한다                   | 내용표현 |
| 제5계층 | 세션계층       | 데이터 송수신의 순서 등을 관리한다         | 내용표현 |
| 제4계층 | 전송계층       | 신뢰성이 높은(에러가 적은) 전송을 시행한다 | 전송물   |
| 제3계층 | 네트워크계층   | 전송 규칙과 수신처를 결정한다.             | 전송물   |
| 제2계층 | 데이터링크계층 | 인접기기 사이의 데이터 전송을 제어한다.    | 전송     |
| 제1계층 | 물리계층       | 전기 기계적인 부분의 전송을 시행한다       | 전송     |

각 계층마다 각각의 역할과 규칙이 있음

네트워크에 의한 데이터 통신은 단계마다의 복수의 프로토콜로 실현됨

- 7계층에서 1계층으로 각각의 순서를 단계적으로 수행함으로써 데이터 통신이 가능

- 수신하는 측에서는 1계층부터 7계층까지 순서대로 각 역할을 수행함을로써 데이터를 수신

순서대로 계층의 역할을 수행해 감으로써 송수신을 할 수 있다

- 송신측에서는 7계층부터 순서대로 각 계층의 역할을 수행한다
- 수신측에서는 1계층부터 순서대로 각 계층의 역할을 수행한다

#### 장점

계층이 각각 독립해 있다

어떤 계층의 프로토콜 변경은 다른 계층에 영향을 끼치지 않는다

하위 계층은 상위 계층을 위해서 일하고 상위 계층은 하위 계층에 관여하지 않는다

## 캡슐화

### 순서의 흐름

택배의 예

운반할 물품에 운송에 필요한 것을 덧붙여간다

- 완충재

- 상자 

- 수신자명/내용물(택배송장)

수취인은 반대의 순서

- 택배 송장을 벗긴다

- 상자에서 꺼낸다

- 완충재를 제거한다

- 내용물을 입수한다

#### 이런일을 하는 이유

운반하기 위해서는 운반하고 싶은 것(데이터) 이외에 다른 것도 필요

데이터 이외의 것

- 수신처, 송신처의 주소
- 데이터 통신을 제어하기 위한 데이터

데이터와 함꼐 보냄

프로토콜 데이터 유닛(Protocol Data Unit:PDU)

- 데이터랑 데이터를 보내기 위해 필요한 것들이 통합된 상태

### 캡슐화

계층이라는 단계를 실시할 때마다 거기에서 필요한 정보를 추가할 수 있다

데이터에 통신에 필요한 데이터(제어 데이터)를 덧붙여간다

사용자 

5~7계층 : 7계층의 제어 데이터 -> 데이터

4계층 : 4계층의 제어 데이터 -> 메시지

3계층 : 3계층의 제어 데이터 -> 세그먼트 데이터그램

2계층 : 2계층의 제어 데이터 ->데이터그램 <- 2계층의 제어 데이터

1계층 : 프레임

#### 각 계층에서의 PDU의 호칭

- 세그먼트/데이터그램 : 메시지에 4계층의 제어정보를 덧붙인 상태

- TCP 세그먼트 / IP 데이터그램 : 3계층의 제어정보를 덧붙인 상태

4계층 PDU처럼 계층번호를 붙여서 부르는 경우도 있음

운반하고 싶은 데이터에 헤더를 추가해 '캡슐'을 만들어 간다.

| 계층              | 호칭                                    | 내용                                          |
| ----------------- | --------------------------------------- | --------------------------------------------- |
| 사용자            | 데이터(Data)                            | 송수신하고 싶은 데이터                        |
| 7계층 ~ 5계층 PDU | 메시지(Message)                         | 데이터를 통신용으로 변환한 것과 7계층 해더    |
| 4계층 PDU         | 세그먼트(Segement)/데이터그램(Datagram) | 메시지와 4계층 헤더                           |
| 2계층 PDU         | 프레임(Frame)                           | 데이터그램과 2계층 헤더(2계층 꼬리부)         |
| 1계층             | 신호                                    | 프레임을 전송매체로 운반하기 위한 신호로 변환 |

헤더(Header): 데이터 앞에 붙임

- 그 계층의 프로토콜명이나 계층의 번호를 붙어 'TCP 헤더'라든가 '4계층 헤더'라는 식으로도 부름

꼬리부(Trailer): 데이터 뒤에 붙임



##  프로토콜

###  프로토콜이란

데이터 통신에 필요한 프로토콜은 한 개가 아니라 복수의 프로토콜로 이루어진다

각 계층마다 계층의 역할을 하는 프로토콜이 존재

- 완전히 제각각이여도 곤란함
- 너무 독립적이여서 상하 계층과 연결이 안되면 곤라

인터페이스라는 구조

- 상위 계층 프로토콜이 하위 계층 프로토콜을 이용할 수 있는 구조
- 하위 계층 프로토콜이 상위 계층 프로토콜에 데이터를 전송할 수 있는 구조
- 인터페이스는 케이블과 컴퓨터의 중개역을 의미하기도 하지만 프로토콜과 프로토콜의 중개역을 가리키는 경우에도 인터페이스라는 말을 사용

프로토콜군

- 상위 프로토콜과 하위 프로토콜을 연결하는 인터페이스를 갖고 있으면 7계층에서 1계층까지 연결된 프로토콜 그룹이 생김
- 어떤 프로토콜군을 사용하는지에 따라 7계층에서 1계층까지 사용하는 프로토콜이 정해지는 것

데이터 통신은 같은 프로토콜군을 사용하는 컴퓨터나 기기끼리만 가능

### 프로토콜이 결정하는 것

#### 헤더와 데이터

프로토콜에는 그 프로토콜이 있는 계층의 역학에 따른 기능이 있음

그것을 실현하기 위한 정보로서 헤더를 붙임

헤더의 내용은 프로토콜로 정해져 있음

데이터의 내용, 헤더의 내용은 프로토콜로 정해져 있다

- 데이터의 내용을 결정한다
- 예) 상대가 가진 파일(net, doc)를 보내달라고 정한다
  - RETR net.doc
  - RETR : 상대의 파일을 보내달라는 명령
  - net.doc 원하는 파일명
  - 문자를 비트로 만다는 규칙(문자코드)에 따라 비트화
- 여기서 프로토콜이 결정하는 것
  - 명령을 쓰는 법
  - 명령 다음에 파일명을 쓴다
  - 사용하는 문자 코드

#### 데이터와 데이터 송수신

현재의 상태를 전하는 것

에러의 수정

사용 설정을 위한 협의

프로토콜은 데이터를 송수신하는 순서와 내용을 결정한다

- 데이터를 보내는 순서
- 그 데이터의 내용
- 데이터를 받았을 때의 처리순서

데이터의 내용을 결정

헤더를 결정

송수신 순서를 결정

#### TCP/IP 프로토콜군

##### OSI 표준 프로토콜군

- 데이터 통신을 하는 컴퓨터와 기기는 동일한 프로토콜을 사용해야 함

- ISO : 이런 프로토콜을 통일하려 함

- 실패함

이 프로토콜을 대신해 TCP/IP 프로토콜군이 가장 많이 사용됨

인터넷에서 사용되는 프로토콜군

##### 사실표준(De Facto Standard)

인터넷을 사용하려고 하는 컴퓨터나 기기가 사용

인터넷이 발전하게 되면서 현재의 데이터 통신의 표준 프로톨콜로 사용됨

##### 표준과 사실 표준

표준: 규격단체가 정함

사실표준: 많은 장소에서 사용되고 있어서 표준으로 취급됨

TCP/IP 프로토콜군을 사용된 컴퓨터 및 기기가 압도적으로 많아서 실제로 제정된 표준규격은 아님

표준 규격처럼 사용할 수 밖에 없는 상태가 된 것

## TCP/IP 모델

### TCP/IP 모델

IETF(the internet Engineering Task Force)라는 단체가 제정

- 국제인터넷표준화기구

RFC(Request for commetns) : IETF에서 제정하는 문서

TCP/IP 프로토콜군은 TCP/IP모델이 베이스가 됨

TCP/IP 프로토콜군을 위한 4계층 모델

- 4계층 : 애플리케이션 계층

- 3계층 : 트랜스포트 계층

- 2계층 : 인터넷 계층

- 1계층 : 인터페이스 계층

사실 TCP/IP모델과 OSI 참조 모델은 전혀 관계가 없다

- OST 참조 모델의 3계층하고 TCP/IP 모델의 인터넷 계층은 비슷하기는 하지만 동일하지 않음

### TCP/IP 프로토콜군

다양한 프로토콜들이 제정되어 있는데다 인터넷 발전과 기술향상에 따라 지금도 계속 새로운 프로토콜이 만들어지고 있음

인터넷에서 사용되고 있는 프로토콜

4계층 애플리케이션 계층

- HTTP(Hyper Text Transfer Protocol: 홈페이지 열람)
- FTP(File Transfer Protocol : 파일 전송)
- SMTP(Simple Mail Transfer Protocol: 전자메일 송수신)

3계층 트랜스포트 계층

- TCP(Transmission Control Protocol)
- UDP(User Datagram Protocol)

2계층 인터넷 계층

- IP(Internet Protocol)
- ARP(address Resolution Protocol)

1계층 인터페이스 계층

- 이더넷(Ethernet)
- 프레임 릴레이(Frame-Relay)
- PPP(point-to point Protocol) 등
- 정확히 말하면 TCP/IP 프로토콜군이 아니다
- 단지 TCP/IP프로토콜군이 이들을 이용할 수 있다
- 사실표준이기에 빼놓을 수 없다

### 1장 정리

네트워크 : 무언가와 무언가가 무언가에 의해 연결되어서 무언가를 운반한다

네트워크 사용의 장점 : 리소스를 공유한다

네트워크를 어떻게 구축해갈지

- 데이터 통신과 거기에 필요한 기기

- 파이프 연결하는 법

  - 회로 교환

  - 패킷 교환

  - 멀티엑세스 네트워크

  - 포인트 투 포인트 네트워크

- LAN/WAN

통신을 하기 위한 규칙

- OSI 참조 모델
- 캡슐화
- 프로토콜
- OSI 참조 모델이라는 설계도에 따라 '프로토콜'이라는 통신상의 규칙이 정해짐