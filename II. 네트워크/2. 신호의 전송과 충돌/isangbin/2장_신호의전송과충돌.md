# 2장. 신호의 전송과 충돌



## 11. 1계층의 역할과 개요

1계층의 역할 : 통신매체로 연결되어 있는 기기에 신호를 전달하는 것

케이블의 종류 : 동선-UTP(전기), 광파이버(광신호)

인터페이스(신호변환기) : LAN은 NIC(Network Interface Card), WAN은 DCE(Data Circuit terminating Equipment)



## 12. 신호와 충돌

인터페이스는 신호 <-> 비트 변환하는 기기

통신속도 : 1초동안 전해지는 비트 수 (bit per sec)

신호에 발생하는 문제

- 신호의 감쇠
  - 긴 케이블을 지나는동안 약해질 수 있음
- 노이즈, 간섭
  - 근처 케이블로의 누설, 고온 근처, 전자파 발생원 근처 ..
  - 실드처리로 막을 수 있음, 광파이버는 노이즈가 없음
- 충돌
  - 신호 보내는 중에 다른 기기가 또 신호를 보내면 신호가 섞여 붕괴
  - 2계층에서 막음



## 13. 허브

허브의 기능

- 감쇠된 신호를 본래 형태로 증폭 및 재생
- 허브에 연결된 기기는 동일 케이블 연결상태로 취급
  - 네트워크가 구축됨, 신호 송수신 가능
- 수신한 신호에 아무 제어를 안함 (플러딩 발생)
  - 충돌 도메인이 형성됨

충돌 도메인

- 충돌이 발생할지도 모르는 범위 (작게 만들어야함)



## 14. 2계층의 역할과 개요

역할 : 신호가 닿는 범위(세그먼트 범위 내)에서의 데이터 전송에 관한 규정 (송수신 순서)

2계층은 다른 계층과 달리 LAN용, WAN용 규칙이 따로 있음

이더넷(Ethernet) : LAN의 사실표준

- 프레이밍
  - 1계층의 신호를 비트화하고 의미를 갖게함
  - 프리엠블(시작신호) 이후 비트화된 데이터 송신



## 15. 2계층 주소와 이더넷

어드레싱 : 주소를 어떻게 사용 또는 배정할지 정하는 것

- 주소 : 수신처와 송신처를 특정하는 데이터
  - 주소의 종류
    - 유니캐스트(Unicast) : 1대1 데이터 통신 (일반적)
      - 모든 기기는 유니캐스트 주소를 하나 이상 갖고 있음. 또한 유니캐스트는 유일해야함
    - 브로드캐스트(Broadcast) : 1대 전체. 모두에게 보냄
    - 멀티캐스트(Multicast) : 1대 다수. 지정된 복수의 기기로 보냄

이더넷에서 사용되는 주소 : MAC주소(Media Access Control Address)

- 인터페이스에 지정된 고정 주소
- 총 48비트이고 선두 24비트는 벤더코드(제조메이커 번호, ''누가 만든''), 후반 24비트는 벤더할당코드(메이커가 붙인 번호, ''몇번째 인터페이스'')



## 16. 이더넷

헤더 : 송수신처 주소, 페이로드 내용 식별

트레일러 : FCS(Frame Check Sequence), 에러 체크

- 에러를 체크할 수는 있지만 고칠 순 없다.
- 에러가 발생한 프레임은 파기하고 송신측에는 알리지 않는다.
  - 에러 : 수신처가 자신이 아닌 프레임인 경우(허브를 통해 무지성전파된 데이터 등)
- 충돌 방지
  - CSMA/CD 액세스 제어
    - CS (Carrier Sense) : 신호 감지. 누가 송신중이면 송신 안함
    - MA (Multiple Access) : 다중 액세스. 아무도 송신 안하고 있으면 내가 해도 됨
    - CD (Collision Detection) : 충돌 검사. 송신 후 충돌 발생시 재수행함



## 17. 스위치

허브는 어떻게 해도 충돌을 100% 방지할 수 없음.

스위치 : 신호가 지나는 길을 나누는 기기. 이를 통해 충돌방지 가능(충돌 도메인이 분할됨)

- 수신한 프레임을 따로따로 보낼 수 있도록 처리
  - MAC주소 필터링
    - 학습 : 포트에 연결된 컴퓨터의 MAC주소를 어드레스 테이블에 기억함
    - 스위칭 : 프레임의 수신처 MAC주소를 보고 그 주소가 있는 포트만 프레임을 송신하도록 함
  - 버퍼링
    - 수신처가 같은 프레임이 동시 도달한 경우에 필요
    - 18회에서 학습



## 18. 전이중 이더넷

버퍼링 : 충돌할 것 같은 프레임을 버퍼에 일시적으로 저장해 두는 것

- 버퍼는 용량이 정해져 있는 기억기기 이므로, 이를 초과할 것 같으면 백 프레셔 또는 IEEE802.3x 규격을 통해 송신을 중지
- 전이중 이더넷에 대응하면 IEEE902.3x 규격을 사용
- 그렇지 않으면 백 프레셔 방식을 사용

반이중 통신 : 송신중엔 수신 불가, 수신중엔 송신 불가

전이중 통신 : 동시에 송수신을 할 수 있는 통신

전이중 이더넷 : 스위치를 사용해 전이중 통신을 하는 것